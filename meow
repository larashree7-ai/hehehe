<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Happy Anniversary</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Cute handwritten / playful fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Quicksand", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: #5b3b4c;
      background: linear-gradient(135deg, #ffe4f1, #ffe9ff, #f6ecff, #ffe9f0);
      background-size: 300% 300%;
      animation: bgShift 18s ease-in-out infinite;
    }

    @keyframes bgShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .scene {
      position: relative;
      width: 100%;
      max-width: 480px;
      height: 100vh;
      max-height: 900px;
      padding: 20px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
    }

    /* LILIES AREA */
    .lilies-wrapper {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 260px;
      height: 260px;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      gap: 8px;
      pointer-events: none;
    }

    .lily {
      position: relative;
      width: 60px;
      height: 200px;
      transform-origin: bottom center;
      opacity: 0;
      animation: lilyGrow 3.5s ease-out forwards;
      filter: drop-shadow(0 8px 14px rgba(210, 155, 190, 0.5));
    }

    .lily:nth-child(1) { animation-delay: 0.2s; transform: translateY(40px); }
    .lily:nth-child(2) { animation-delay: 0.5s; transform: translateY(25px); }
    .lily:nth-child(3) { animation-delay: 0.8s; transform: translateY(35px); }
    .lily:nth-child(4) { animation-delay: 1.1s; transform: translateY(30px); }

    @keyframes lilyGrow {
      0% {
        transform: translateY(80px) scaleY(0.1) scaleX(0.8);
        opacity: 0;
      }
      40% {
        opacity: 1;
      }
      60% {
        transform: translateY(0) scaleY(1.02) scaleX(1.02);
      }
      100% {
        transform: translateY(0) scaleY(1) scaleX(1);
      }
    }

    /* Lily stem */
    .stem {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 10px;
      height: 160px;
      background: linear-gradient(to top, #7bb66f, #a3d89c);
      border-radius: 999px;
      transform: translateX(-50%);
      animation: stemSway 4s ease-in-out infinite;
      animation-delay: 3.5s;
      transform-origin: bottom center;
    }

    @keyframes stemSway {
      0%   { transform: translateX(-50%) rotate(0deg); }
      25%  { transform: translateX(-50%) rotate(2deg); }
      50%  { transform: translateX(-50%) rotate(0deg); }
      75%  { transform: translateX(-50%) rotate(-2deg); }
      100% { transform: translateX(-50%) rotate(0deg); }
    }

    /* Lily flower (very simple abstract lily) */
    .flower {
      position: absolute;
      bottom: 145px;
      left: 50%;
      transform: translateX(-50%);
      width: 70px;
      height: 70px;
    }

    .petal {
      position: absolute;
      width: 40px;
      height: 60px;
      background: radial-gradient(circle at 30% 20%, #ffffff, #f7f7ff, #f4efff);
      border-radius: 999px 999px 999px 999px;
      box-shadow: 0 4px 10px rgba(190, 160, 190, 0.4);
    }

    .petal.center {
      left: 50%;
      top: 10px;
      transform: translateX(-50%);
    }

    .petal.left {
      left: 8px;
      top: 16px;
      transform: rotate(-18deg);
    }

    .petal.right {
      right: 8px;
      top: 16px;
      transform: rotate(18deg);
    }

    .petal.back {
      left: 50%;
      top: -4px;
      transform: translateX(-50%) scale(0.9);
      opacity: 0.9;
    }

    .flower-center {
      position: absolute;
      left: 50%;
      top: 30px;
      transform: translateX(-50%);
      width: 14px;
      height: 14px;
      background: radial-gradient(circle, #ffd6a5, #ffacb7);
      border-radius: 50%;
      box-shadow: 0 0 4px rgba(255,180,150,0.6);
    }

    /* HEART / ENVELOPE */
    .heart-envelope-wrapper {
      position: absolute;
      top: 15%;
      left: 50%;
      transform: translateX(-50%);
      width: 260px;
      height: 260px;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.8s ease-out;
    }

    .heart-envelope-wrapper.show {
      opacity: 1;
      pointer-events: auto;
    }

    .heart {
      position: relative;
      width: 220px;
      height: 190px;
      background: radial-gradient(circle at 30% 20%, #ffbcd8, #ff8ab8);
      transform: rotate(-45deg) scale(1);
      border-radius: 40px;
      box-shadow:
        0 10px 25px rgba(218, 120, 170, 0.6),
        0 0 25px rgba(255, 160, 210, 0.8);
      cursor: pointer;
      transition: transform 0.5s ease, box-shadow 0.5s ease;
      animation: heartGlow 2s ease-in-out infinite alternate;
    }

    /* top lobes of heart */
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      width: 220px;
      height: 190px;
      background: radial-gradient(circle at 30% 20%, #ffd3e7, #ff9ac6);
      border-radius: 50%;
      box-shadow: inherit;
    }
    .heart::before {
      top: -110px;
      left: 0;
    }
    .heart::after {
      left: 110px;
      top: 0;
    }

    .heart:hover {
      transform: rotate(-45deg) scale(1.05);
      box-shadow:
        0 12px 30px rgba(218, 120, 170, 0.7),
        0 0 30px rgba(255, 190, 230, 1);
    }

    @keyframes heartGlow {
      0% { box-shadow: 0 10px 22px rgba(218,120,170,0.5); }
      100% { box-shadow: 0 16px 30px rgba(218,120,170,0.8); }
    }

    /* TAP ME text */
    .tap-text {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      transform: rotate(45deg);
      font-family: "Pacifico", cursive;
      font-size: 22px;
      text-transform: lowercase;
      color: #fff7ff;
      text-shadow: 0 2px 6px rgba(195, 110, 150, 0.8);
      pointer-events: none;
    }

    /* Envelope state */
    .heart.opened {
      animation: none;
      transform: rotate(0deg) scale(1);
      border-radius: 24px;
      background: linear-gradient(135deg, #ffe0f3, #ffd2f8);
      box-shadow:
        0 10px 25px rgba(210, 130, 190, 0.6),
        0 0 18px rgba(255, 200, 235, 0.9);
      transition: transform 0.6s ease, border-radius 0.6s ease, background 0.6s ease;
    }

    .heart.opened::before,
    .heart.opened::after {
      display: none;
    }

    .envelope-flap {
      position: absolute;
      inset: 0;
      border-radius: 24px;
      background:
        linear-gradient(135deg, rgba(255, 185, 220, 0.9), rgba(255, 225, 250, 0.95));
      clip-path: polygon(0 0, 100% 0, 50% 55%);
      transform-origin: top center;
      transform: rotateX(0deg);
      transition: transform 0.7s ease-in-out;
      pointer-events: none;
    }

    .heart.opened .envelope-flap {
      transform: rotateX(180deg);
    }

    .tap-text.hidden {
      opacity: 0;
    }

    /* MESSAGE CARD INSIDE */
    .message-card {
      position: absolute;
      top: 12%;
      left: 50%;
      transform: translateX(-50%);
      width: 85%;
      max-height: 75%;
      padding: 16px 18px;
      background: rgba(255, 249, 255, 0.95);
      border-radius: 18px;
      box-shadow: 0 8px 18px rgba(210, 140, 190, 0.4);
      opacity: 0;
      pointer-events: none;
      overflow: hidden;
    }

    .heart.opened .message-card {
      opacity: 1;
      transition: opacity 0.7s ease 0.3s;
      pointer-events: auto;
    }

    .message-line {
      font-family: "Quicksand", system-ui, sans-serif;
      font-size: 18px;
      line-height: 1.4;
      color: #ff6f9d;
      text-shadow: 0 1px 3px rgba(200, 120, 170, 0.5);
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid rgba(255, 155, 210, 0.7);
      margin-bottom: 6px;
      opacity: 0;
    }

    .message-line:last-child {
      margin-bottom: 0;
    }

    .message-line.show {
      opacity: 1;
      animation: typing 3s steps(40, end) forwards, blinkCursor 0.7s step-end infinite;
    }

    .message-line:nth-child(2).show {
      animation-delay: 0.1s, 0s;
    }

    .message-line:nth-child(3).show {
      animation-delay: 0.2s, 0s;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }

    @keyframes blinkCursor {
      0%, 50% { border-color: rgba(255, 155, 210, 0.9); }
      50.01%, 100% { border-color: transparent; }
    }

    /* FLOATING HEARTS / STARS / SPARKLES */
    .float-layer {
      position: fixed;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
      z-index: -1;
    }

    .float-item {
      position: absolute;
      width: 14px;
      height: 14px;
      opacity: 0;
      animation: floatUp 10s linear infinite;
      filter: drop-shadow(0 2px 4px rgba(255, 160, 220, 0.7));
    }

    .float-item.heart-shape {
      background-color: #ff8cb8;
      transform: rotate(45deg);
    }

    .float-item.heart-shape::before,
    .float-item.heart-shape::after {
      content: "";
      position: absolute;
      width: 14px;
      height: 14px;
      background-color: #ff8cb8;
      border-radius: 50%;
    }

    .float-item.heart-shape::before {
      top: -7px;
      left: 0;
    }

    .float-item.heart-shape::after {
      left: -7px;
      top: 0;
    }

    .float-item.star {
      width: 6px;
      height: 6px;
      background: radial-gradient(circle, #fff7ff, #ffd6ff);
      box-shadow: 0 0 6px rgba(255, 255, 255, 0.9);
      border-radius: 2px;
      transform: rotate(45deg);
    }

    .float-item.sparkle {
      width: 10px;
      height: 10px;
      background: radial-gradient(circle, #ffffff, #ffe3ff);
      border-radius: 50%;
      box-shadow:
        0 0 4px rgba(255, 255, 255, 0.8),
        0 0 8px rgba(255, 200, 250, 0.8);
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(0.7);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      90% {
        opacity: 0.9;
      }
      100% {
        transform: translateY(-110vh) scale(1.1);
        opacity: 0;
      }
    }

    /* Small text hint at bottom */
    .hint {
      position: absolute;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 13px;
      color: rgba(110, 70, 90, 0.7);
      text-shadow: 0 1px 2px rgba(255, 230, 245, 0.8);
    }

    @media (max-width: 480px) {
      .heart-envelope-wrapper {
        width: 220px;
        height: 220px;
      }
      .heart {
        width: 200px;
        height: 170px;
      }
      .heart::before,
      .heart::after {
        width: 200px;
        height: 170px;
      }
      .tap-text {
        font-size: 20px;
      }
      .message-line {
        font-size: 17px;
      }
      .lilies-wrapper {
        width: 230px;
      }
    }
  </style>
</head>
<body>
  <div class="float-layer" id="floatLayer"></div>

  <div class="scene">
    <!-- Lilies at the bottom -->
    <div class="lilies-wrapper">
      <div class="lily">
        <div class="stem"></div>
        <div class="flower">
          <div class="petal back"></div>
          <div class="petal left"></div>
          <div class="petal right"></div>
          <div class="petal center"></div>
          <div class="flower-center"></div>
        </div>
      </div>
      <div class="lily">
        <div class="stem"></div>
        <div class="flower">
          <div class="petal back"></div>
          <div class="petal left"></div>
          <div class="petal right"></div>
          <div class="petal center"></div>
          <div class="flower-center"></div>
        </div>
      </div>
      <div class="lily">
        <div class="stem"></div>
        <div class="flower">
          <div class="petal back"></div>
          <div class="petal left"></div>
          <div class="petal right"></div>
          <div class="petal center"></div>
          <div class="flower-center"></div>
        </div>
      </div>
      <div class="lily">
        <div class="stem"></div>
        <div class="flower">
          <div class="petal back"></div>
          <div class="petal left"></div>
          <div class="petal right"></div>
          <div class="petal center"></div>
          <div class="flower-center"></div>
        </div>
      </div>
    </div>

    <!-- Heart / envelope -->
    <div class="heart-envelope-wrapper" id="heartWrapper">
      <div class="heart" id="heart">
        <div class="envelope-flap"></div>
        <div class="tap-text" id="tapText">tap me</div>
        <div class="message-card" id="messageCard">
          <div class="message-line" id="line1">
            happy anniversary baby ðŸ’–ðŸ¥°ðŸŒ¸ðŸ’•
          </div>
          <div class="message-line" id="line2">
            hope we always stay together ðŸŒ·ðŸ’žðŸ’Œ
          </div>
          <div class="message-line" id="line3">
            ilysm mwah mwah!!!! ðŸ˜˜ðŸ’–ðŸ’«ðŸ’Œ
          </div>
        </div>
      </div>
    </div>

    <div class="hint" id="hintText">wait for the flowers to bloomâ€¦</div>
  </div>

  <script>
    // Show heart after lilies finish blooming
    window.addEventListener("load", function () {
      const heartWrapper = document.getElementById("heartWrapper");
      const hintText = document.getElementById("hintText");

      setTimeout(() => {
        heartWrapper.classList.add("show");
        hintText.textContent = "tap the glowing heart ðŸ’Œ";
      }, 4200); // after lily animations
    });

    // Heart click -> open envelope and reveal message with typewriter
    const heart = document.getElementById("heart");
    const tapText = document.getElementById("tapText");
    const messageCard = document.getElementById("messageCard");
    const lines = [
      document.getElementById("line1"),
      document.getElementById("line2"),
      document.getElementById("line3"),
    ];
    let opened = false;

    heart.addEventListener("click", () => {
      if (opened) return;
      opened = true;

      heart.classList.add("opened");
      tapText.classList.add("hidden");

      // Reveal message lines sequentially
      setTimeout(() => {
        lines.forEach((line, index) => {
          setTimeout(() => {
            line.classList.add("show");
          }, index * 950);
        });
      }, 450);
    });

    // Floating hearts, stars, sparkles
    const floatLayer = document.getElementById("floatLayer");
    const shapes = ["heart", "star", "sparkle"];

    function createFloatItem() {
      const el = document.createElement("div");
      const shape = shapes[Math.floor(Math.random() * shapes.length)];
      el.classList.add("float-item");

      if (shape === "heart") {
        el.classList.add("heart-shape");
      } else if (shape === "star") {
        el.classList.add("star");
      } else {
        el.classList.add("sparkle");
      }

      const sizeBase = shape === "star" ? 6 : 10;
      const extra = Math.random() * 6;
      const size = sizeBase + extra;
      el.style.width = size + "px";
      el.style.height = size + "px";

      el.style.left = Math.random() * 100 + "vw";
      el.style.bottom = "-20px";

      const duration = 8 + Math.random() * 6;
      el.style.animationDuration = duration + "s";
      el.style.animationDelay = Math.random() * 4 + "s";

      floatLayer.appendChild(el);

      setTimeout(() => {
        floatLayer.removeChild(el);
      }, duration * 1000 + 500);
    }

    // Create multiple at intervals
    for (let i = 0; i < 16; i++) {
      setTimeout(createFloatItem, i * 500);
    }
    setInterval(createFloatItem, 1200);
  </script>
</body>
</html>
